generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_DATABASE_URL")
}

/**
 * 既存テーブル（触らない）
 */
model skills {
  id         BigInt    @id @default(autoincrement())
  name       String    @db.VarChar
  created_at DateTime? @default(now()) @db.Timestamptz(6)
}

model study_record {
  id      String  @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  records String  @db.VarChar
  time    Int?
  remark  String? @db.VarChar

  @@map("study-record")
}

model todos {
  id         BigInt   @id @default(autoincrement())
  created_at DateTime @default(now()) @db.Timestamptz(6)
  title      String?  @db.VarChar
  done       Boolean? @default(false)
}

model user_skill {
  id         BigInt    @id @default(autoincrement())
  user_id    String    @db.VarChar
  skill_id   BigInt?
  created_at DateTime? @default(now()) @db.Timestamptz(6)
}

model users {
  id          String    @id @default("") @db.VarChar
  name        String    @default("") @db.VarChar
  description String?   @default("")
  github_id   String?   @db.VarChar
  qiita_id    String?   @db.VarChar
  x_id        String?   @db.VarChar
  created_at  DateTime? @default(now()) @db.Timestamptz(6)
}

/**
 * 新規に追加したいテーブルだけ（article_versions）
 */
model ArticleVersion {
  id        String   @id @default(cuid())
  title     String?
  content   String   @db.Text
  createdAt DateTime @default(now())

  @@index([createdAt], map: "article_versions_created_at_idx")
  @@map("article_versions")
}
